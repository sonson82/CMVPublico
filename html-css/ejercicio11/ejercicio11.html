<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>

	<!-- polyfill para soportar CSS3 Media Queries en MS explorer viejos -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	  <!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	  <![endif]-->
	  
	<title>EJERCICIO 11</title>

	<link href="ejercicio11.css" rel="stylesheet"/>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>


<body>
	<header onload="htmlMultimediaFunctions()">
		<h1>EJERCICIOS JAVASCRIPT<span> MULTIMEDIA HTML5</span></h1>
	</header>

	<main>
		<div id="content">
			
			<h2>Video & Audio (tracks audio con Javascript)</h2>
			<br><br>

			<h3>HARRI-JASOTZAILEA</h3>
			<br>
			
			<video controls width="560" height="auto" poster="video/piedra.jpg" crossorigin>

				<source src="video/practica_Maya.mp4" type="video/mp4">
				<track kind="subtitles" src="video/subtitulos_es.vtt" srclang="es" label="spanish" default>

				<p>Your browser doesn't support HTML video. Here is a <a href="https://youtu.be/8rFKwhv2qDs">link to the video</a> instead.</p>
	
			</video>

			<br><br>

			<h3>TXALAPARTA</h3>
			<br>

			<audio id="audio" controls>
				<source src="audio/Txalaparta.mp3" type="audio/mp3">
				<p>Your browser doesn't support HTML5 audio. Here is a <a href="viper.mp3">link to the audio</a> instead.</p>
				<track id="trk" kind="subtitles"  onCueChange="cueChange()" src="audio/subtitulos_es.vtt" srclang="es" label="spanish" default>
			</audio>
			<div id="lyrics"></div>

			<br><br>
			<h2>Graficos HTML</h2>
			<br><br>
			<br><br>

			<div id="graficos">
			
				<div>
					<h3>CANVAS</h3>
					<br>
					<canvas id="canvas" width="150" height="150"></canvas>
				</div>
				
	
				<br><br>
				<br><br>
	

				<div>
					<h3>SVG</h3>
					<br>
					
					<div>
						<svg width="200" height="200">
							<circle cx="100" cy="75" r="75" fill="red" />
							<circle cx="100" cy="75" r="50" fill="mediumseagreen" />
						</svg>
					</div>

				</div>
				

			</div>
		
			
			

		</div>

		<div id="backToMenu">
			<a href="../../index.html"><p>Volver al menú</p></a>
		</div>
		
	</main>

	<footer>
		<div><p>&copy; 2021  <a href="https://sonson82.github.io/CMVPublico/" target="_blank" rel="nofollow">Sònia Pujol</a></p></div>
	</footer>

	<script type="text/javascript">
	
		var lyrics = document.getElementById('lyrics');
		var audio = document.getElementById('audio');
		var track = document.getElementById('trk');
		var textTrack = track.track;
		track.addEventListener("cuechange", cueChange, false);
		
		
		function cueChange(){
		var cues = textTrack.activeCues;
		if (cues.length > 0){
		lyrics.innerHTML = cues[0].text.replace(/\n/g, '<br>');}}
		

		function draw() {
			var canvas = document.getElementById('canvas');
			var context = canvas.getContext('2d');
			var centerX = canvas.width / 2;
			var centerY = canvas.height / 2;
			var radius = 70;
			var eyeRadius = 20;
			var eyeRadiusInsideA = 1;
			var eyeRadiusInsideB = 3;
			var eyeXOffset = 25;
			var eyeYOffset = 20;
			
			// Yellow circle
			context.beginPath();
			context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
			context.fillStyle = 'bisque';
			context.fill();
			context.lineWidth = 5;
			context.strokeStyle = 'black';
			context.stroke();
				
			// Eyes
			context.beginPath();
			var eyeX = centerX - eyeXOffset;
			var eyeY = centerY - eyeXOffset;
			context.arc(eyeX, eyeY, eyeRadius, 0, 2 * Math.PI, false);
			var eyeX = centerX + eyeXOffset;
			context.arc(eyeX, eyeY, eyeRadius, 0, 2 * Math.PI, false);
			context.fillStyle = 'blue';
			context.fill();

			context.beginPath();
			var eyeX = centerX - eyeXOffset;
			var eyeY = centerY - eyeXOffset;
			context.arc(eyeX, eyeY, eyeRadiusInsideB, 0, 2 * Math.PI, false);
			var eyeX = centerX + eyeXOffset;
			context.arc(eyeX, eyeY, eyeRadiusInsideB, 0, 2 * Math.PI, false);
			context.fillStyle = 'white';
			context.fill();

			context.beginPath();
			var eyeX = centerX - eyeXOffset-10;
			var eyeY = centerY - eyeXOffset-10;
			context.arc(eyeX, eyeY, eyeRadiusInsideA, 0, 2 * Math.PI, false);
			var eyeX = centerX + eyeXOffset-10;
			context.arc(eyeX, eyeY, eyeRadiusInsideA, 0, 2 * Math.PI, false);
			context.fillStyle = 'white';
			context.fill();
			

			// draw the mouth
			context.beginPath();
			context.arc(centerX, centerY+10, 30, 0, Math.PI, false);
			context.fillStyle = 'red';
			context.fill();
		}

		function init(){
			audio.volume = .2;
			audio.play();

			draw();
		
		}

		window.onload = init;
	
	
		</script>
	
</body>
</html>


